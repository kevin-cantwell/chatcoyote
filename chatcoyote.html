<head>
  <title>Yet Another Chat Client</title>
</head>

<body>
  <section class="chatter">
    {{> room}}
  </section>
  <section class="info-bar">
    {{> info}}
  </section>
  <section class="prompt">
    <form>
      <input class="chatinput" type="text" maxlength="140" value="" >
    </form>
  </section>
  {{> callback}}
</body>

<template name="message">
  {{#if is_current_user user_id}}
  <div class="message mine">
  {{else}}
  <div class="message other">
  {{/if}}
    <section class="handle">{{user_name}}</section>
    <div class="clear"></div>
    <section class="chatbubble">
      <div class="chattail"></div>
      <div class="chattext">{{chattext}}</div>
    </section>
    <div class="clear"></div>
    <section class="timestamp">
      <time datetime="{{html5_timestamp}}">{{pretty_time}}</time>
    </section>
    <div class="clear"></div>
  </div>
  <div class="clear"></div>
</template>

<template name="room">
  <div class="room">
    <section class="messages">
    {{#each messages}}
      {{> message}}
    {{/each}}
    </section>
  </div>
</template>

<template name="info">
  <div class="info-left">
    Room: {{room_name}}
  </div>
  <div class="info-right">
    Handle: <input class="setname" type="text" maxlength="20" value="{{handle}}">
    <input class="changename" type="button" value="change">
  </div>
</template>

<template name="callback">
  <input type="hidden" value="{{scroll_on_message_render}}" >
</template>
